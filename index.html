<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AplysiaLai</title>
  <style>
    *{
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body{
      position: relative;
      width: 100vmin;
      height: 100vh; /* 让body高度占满视口 */
      background-color: #000000;
      margin: 0 auto; /* 让body在页面中水平居中 */
    }
    a{
      text-decoration: none;
      color: inherit;
    }
    .head-box{
      position: absolute;
      width: 30%;
      height: 50%;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
    }
    .name-back{
      position: absolute;
      width: 70px;
      min-height: 70px;
      background-color: #78787836; /* 半透明黑色背景 */
      opacity: 0;
      border-radius: 25px;
      z-index: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: all 0.8s ease-in-out; /* 添加过渡动画 */
      /* 初始位置与头像重叠 */
      left: 40%;
      top: 50%;
      transform: translate(-35%, -50%);
      box-shadow: inset 0  1px 1px #ffffff50,
      0 1px 2px #00000050,
      0 2px 8px #00000025;
      
    }
    .head{
      position: absolute;
      width: 70px;
      height: 70px;
      background-image: url(./resources/head.jpg); /* 使用示例图片 */
      background-size: contain;
      border-radius: 50%;
      z-index: 2;
      cursor: pointer; /* 显示点击指针 */
      transition: all 1s ease; /* 添加过渡动画 */
      /* 初始位置 */
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
    }
     .name {
       color: #ffffff;
      font-family: Arial, sans-serif;
      font-size: 1.2rem;
      font-weight: bold;
      padding: 0 20px;
      opacity: 0;
      transition: all 0.5s ease-in-out; /* 添加过渡动画 */
    }
    .name.active{
      opacity: 1;
      transition: opacity 0.7s ease-in-out 0.2s; /* 延迟显示文字 */
    }
    /* 激活状态样式 */
    .head.active {
      /* 头像向左平移50px */
      transform: translate(calc(-50% - 50px), -50%);
    }
    .name-back.active {
      opacity: 1;
      width: 140px;
      /* 背景框向右平移到头像右侧 */
      transform: translate(calc(0% + 60px), -50%);
    }
    /* --------------- 表单样式优化 --------------- */

    /* 表单相关样式 */
    .form-toggle {
      position: fixed;
      right: 0;
      top: 0; /* 从顶部开始，位于左上角 */
      margin: 20px; /* 与边缘保持间距，避免紧贴 */
      width: 50px;
      height: 50px;
      background-color: #ffffff; /* 按钮背景白色 */
      border-radius: 50%; /* 圆形按钮更精致 */
      cursor: pointer;
      z-index: 10;
      transition: all 1s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none; /* 清除默认边框 */
      box-shadow: 0 2px 8px rgba(0,0,0,0.15); /* 轻微阴影增强层次感 */
    }
    /* 为第一条矩形添加过渡动画 */
    #first-rect {
      transition: width 0.2s ease-in-out;
    }
    /* 为第二条矩形添加过渡动画 */
    #second-rect {
      transform-origin:  center;
      transition: transform 0.8s ease-in-out,width 0.6s ease-in-out, x 0.6s ease-in-out; /* 增加x轴过渡 */
    }
    #third-rect {
  /* 设置旋转原点为x:4的位置（左边缘） */
      transform-origin: center;
      transition: transform 0.8s ease-in-out;
    }
    #first-rect, #second-rect, #third-rect {
      transition: all 0.4s ease-in-out 0.3s; 
      /* 非悬停在元素内时，过渡动画会延迟 0.3 秒才开始执行 */
    }
    /* 鼠标悬停时的动画效果 */
    .form-toggle:hover #first-rect {
      width: 4px; /* 延长到与第二条矩形连接的宽度 */
      transition: all 0.3s ease-in-out;
    }
    /* 悬停时隐藏第二条矩形（形成一条线的视觉效果） */
    .form-toggle:hover #second-rect {
      x:4;
      width: 16px;
      transition: all 0.3s ease-in-out;
    }
    .form-toggle:hover #third-rect {
      transition: all 0.4s ease-in-out;
    }
    .form-toggle:hover #first-rect,
    .form-toggle:hover #second-rect,
    .form-toggle:hover #third-rect {
      transition-delay: 0s; 
      /* 悬停时立即生效 覆盖了默认的延迟设置，
      使得悬停时的样式变化（如矩形的宽度、位置调整）能够立即触发，
      不需要等待 0.3 秒*/
    } 
    /* 激活状态样式 */
    .form-toggle.active {
      
    }
    .form-toggle.active #first-rect {
      x:9;
      y:-2;
      width: 4px;
      transform: rotate(45deg);
    }
    .form-toggle.active #second-rect {
      x:16;
      y:10;
      width: 4px;
      transform: rotate(45deg);
    }
    .form-toggle.active #third-rect {
      x:4;
      y:10;
      transform: rotate(-45deg);
    }
    /* 激活样式状态下悬停 */
    .form-toggle.active:hover #first-rect {
      width: 9px;
      transform: rotate(45deg);
    }
    .form-toggle.active:hover #second-rect {
      x:12;
      y:10;
      width: 8px;
      transform: rotate(45deg);
    }
  </style>
</head>
<body>
   <!-- --------------- SVG动画按钮 --------------- -->
  <button class="form-toggle">
    <!-- SVG加号图标（加粗效果，无描边纯填充） -->
    <svg class="toggle-icon" width="24" height="24" viewBox="0 0 24 24">
      <rect id="first-rect" x="4" y="8" width="10" height="4" rx="2" ry="2"/>
      <!-- 水平线 -->
      <rect id="second-rect" x="16" y="8" width="4" height="4" rx="2" ry="2"/>
      <!-- 垂直线 -->
      <rect id="third-rect" x="4" y="16" width="16" height="4" rx="2" ry="2"/> 
    </svg>
  </button>
  

  

  <div class="head-box">
    <div class="head"></div>
    <div class="name-back">
      <div class="name">AplysiaLai</div>
    </div>
  </div>
<script>
// 获取头像和背景元素
const head = document.querySelector('.head');
const headBack = document.querySelector('.name-back');
const name = document.querySelector('.name');
// 初始状态为隐藏
let isActive = false;
// 添加点击事件监听
head.addEventListener('click', () => {
  // 切换状态
  isActive = !isActive;
  // 根据状态添加或移除active类
  if (isActive) {
    head.classList.add('active');
    headBack.classList.add('active');
    name.classList.add('active');
  } else {
    head.classList.remove('active');
    headBack.classList.remove('active');
    name.classList.remove('active');
  }
});

const FormToggle = document.querySelector('.form-toggle')
let formActive=false
let leaveTimeout=null
FormToggle.addEventListener('click',()=>{
  formActive=!formActive
  if(formActive){
    FormToggle.classList.add('active')
  }else{
    FormToggle.classList.remove('active')
}
})
// 鼠标进入事件
formToggle.addEventListener('mouseenter', () => {
  // 清除离开时的延迟计时器
  clearTimeout(leaveTimer);
  // 移除active状态下的样式影响，应用hover效果
  formToggle.classList.remove('active-hover');
},300)
// 鼠标离开事件
formToggle.addEventListener('mouseleave', () => {
  // 如果不是激活状态，延迟恢复样式
  if (!formActive) {
    leaveTimer = setTimeout(() => {
      formToggle.classList.remove('hover');
    },300); // 300ms延迟，可根据需要调整
  }
})
   
</script>
</body>
</html>
