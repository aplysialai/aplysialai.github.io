<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!-- 设置视口，确保在移动设备上正确显示 -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SVG加载动画示例</title>
  <style>
    /* 通用样式重置：清除所有元素的默认内外边距，设置盒模型为border-box */
    *{
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    /* 所有div元素默认使用flex布局，内容水平和垂直居中 */
    div{
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    /* 页面 body 样式：使用flex布局，背景色为白色，内容水平和垂直居中，占满整个视口 */
    body{
      display: flex;
      background-color:  #fff;
      justify-content: center; /* 水平居中 */
      align-items: center; /* 垂直居中 */
      width: 100%;
      height: 100vh; /* 高度占满整个视口 */
    }
    
    /* 标题样式：无衬线字体，粗体，大字体，特定蓝色，鼠标悬停显示手型 */
    .title{
      font-family: sans-serif;
      font-weight: 700;
      font-size: 10rem;
      color: #1196e3;
      cursor: pointer;
    }
    
    /* 数字样式：正常字体样式（非斜体），黑色 */
    .num{
      font-style: normal;
      color: #000;
    }
    
    /* 加载动画容器样式：固定定位覆盖全屏，flex列布局，浅灰色背景，最高层级，过渡动画 */
    .loading{
      position: fixed; /* 固定定位，覆盖整个页面 */
      flex-direction: column; /* 子元素垂直排列 */
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh; /* 高度占满视口 */
      background-color:#f7f7f7;
      z-index: 100; /* 确保在最上层显示 */
      transition: 1s ease; /* 过渡动画效果，用于加载完成时的退出动画 */
    }
    
    /* 加载动画中的SVG样式：固定宽度，底部间距，溢出可见，过渡效果 */
    .loading svg{
      width: 5rem;
      margin-bottom: 2rem;
      overflow: visible; /* 允许SVG内容溢出其viewBox范围 */
      transition: 0.3s ease; /* 用于加载完成时的淡出效果 */
    }
    
    /* SVG中的圆形样式：无填充，黑色边框，特定宽度，设置虚线动画相关属性 */
    .loading svg circle{
      fill: none; /* 无填充色，只显示边框 */
      stroke: #171717; /* 边框颜色 */
      stroke-width: 12; /* 边框宽度 */
      /* 
        stroke-dasharray: 定义虚线的样式，这里设置为160
        表示一个虚线单元由160px实线和160px空白组成（因为只指定一个值）
        这个值大致等于圆的周长的一半（圆周长 = 2πr = 2*3.14*25 ≈ 157）
      */
      stroke-dasharray: 160; 
      /*
        stroke-dashoffset: 定义虚线的偏移量
        初始值160表示整个圆形都被空白部分覆盖，所以开始时看不到边框
      */
      stroke-dashoffset:160 ; 
      transform-origin: center; /* 旋转中心点为圆心，使旋转更自然 */
      /* 应用旋转动画：名称为circle_rotate，持续3秒，ease-in缓动函数，无限循环 */
      animation: circle_rotate 3s ease-in infinite; 
    }
    
    /* 定义圆形旋转动画 */
    @keyframes circle_rotate {
      0%{
        transform: rotate(0deg); /* 初始旋转角度：0度 */
        stroke-dashoffset: 160; /* 初始虚线偏移：160，整个圆不可见 */
      }
      100%{
        transform: rotate(360deg); /* 最终旋转角度：360度（一圈） */
        stroke-dashoffset: -160; /* 最终虚线偏移：-160，完成一个完整的动画周期 */
      }
    }
    
    /* 加载文字样式：无衬线字体，大字体，黑色，粗体，过渡效果 */
    .loading p{
      font-family: sans-serif;
      font-size: 2rem;
      color: #171717;
      font-weight: 900;
      transition: 0.3s ease; /* 用于加载完成时的淡出效果 */
    }
    
    /* 加载动画退出样式：向上移动出屏幕 */
    .loading_out{
      transform: translateY(100%); /* 沿Y轴下移100%，移出屏幕 */
    }
    
    /* 加载动画退出时，SVG和文字的透明度变为0 */
    .loading_out svg,
    .loading_out p{
      opacity: 0;
    }
  </style>
</head>
<body>
  <!-- 加载动画容器：包含一个圆形SVG和LOADING文字 -->
  <div class="loading">
    <!-- 
      SVG视图框：viewBox="0 0 50 50" 
      定义了SVG的坐标系统，宽高均为50单位
      左上角为(0,0)，右下角为(50,50)
    -->
    <svg viewbox="0 0 50 50">
      <!-- 
        圆形元素：
        r="25" - 半径为25单位（正好是viewBox宽度的一半）
        cx="25" cy="25" - 圆心坐标在(25,25)，即viewBox的中心
        这样圆形正好填满整个SVG视图框
      -->
      <circle r="25" cx="25" cy="25"></circle>
    </svg>
    <p>LOADING...</p> <!-- 加载提示文字 -->
  </div>
  
  <!-- 页面标题：点击可跳转到index01.html -->
  <div class="title">
    <p onclick="loading.in('./index01.html')">PAGE <!-- 点击事件触发加载动画并跳转 -->
      <i class="num">2</i> <!-- 页面编号 -->
    </p>
  </div>

  <script>
   // 加载动画控制对象
   const loading={
    // 获取加载动画容器元素
    container:document.querySelector(".loading"), 
    
    // 显示加载动画并跳转到目标页面
    in(target){
      // 移除退出类，使加载动画重新显示
      this.container.classList.remove("loading_out") 
      // 延迟1秒后执行跳转，让用户看到加载动画
      setTimeout(()=>{ 
        window.location.href = target // 跳转到目标页面
      },1000)
    },
    
    // 隐藏加载动画
    out(){
      // 添加退出类，触发加载动画的退出效果
      this.container.classList.add("loading_out") 
    }
   }
   
   // 页面加载完成后隐藏加载动画
   window.addEventListener("load",()=>{
    loading.out()
   })
  </script>
</body>
</html>
